webpackJsonp([1],{125:function(e,a,n){"use strict";(function(e){function a(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(a,n,t){return n&&e(a.prototype,n),t&&e(a,t),a}}(),c=n(129);!function(e){e&&e.__esModule}(c);n(130);n(332);n(333),n(335),n(336);var s=n(337);!function(e,n){function c(e){p.addBg(h.getResult("scene1_bg")),p.addGlasses(h.getResult("scene1_glasses")),p.addMural(h.getResult("scene1_mural")),p.addCabinet(h.getResult("scene1_cabinet")),p.addDrawer(h.getResult("scene1_drawer")),p.addHammer(h.getResult("scene1_hammer"),h.getResult("scene1_hammer_pack")),p.addEnvelope(h.getResult("scene1_piece1"),h.getResult("scene1_envelope_open")),p.addGrandpa(h.getResult("scene1_grandpa"),h.getResult("scene1_grandpa_glass")),p.render()}function i(e){console.log(e.progress)}var o=e(n),r=(o.height(),o.width(),n.navigator.userAgent.toLowerCase()),d=(/macintosh|mac os x/.test(r),/iphone/.test(r),/ipad/.test(r),/android|adr|linux/.test(r),/mobile|android|kindle|silk|midp|phone|(windows .+arm|touch)/.test(r),new createjs.Stage("roomCanvas")),l=e("#roomCanvas").attr("width"),u=e("#roomCanvas").attr("height");createjs.Ticker.setFPS(60),createjs.Ticker.addEventListener("tick",d);var m=function(){function e(n){a(this,e),this.bg=null,this.cont={scene:new createjs.Container,mask:new createjs.Container,drawer:new createjs.Container},this.m=new createjs.Shape((new createjs.Graphics).dr(0,0,500,500)).set({x:300,y:300}),this.hammer={active:!1},this.glasses={active:!1},this.grandpa_get_glasses=!1}return t(e,[{key:"init",value:function(e){var a=this;return d.addChild(a.cont.scene),d.addChild(a.cont.drawer),d.addChild(a.cont.mask),a}},{key:"show",value:function(){return this}},{key:"hide",value:function(){return this}},{key:"addBg",value:function(e){var a=this;return a.bg=new createjs.Bitmap(e),a.bg.name="bg",a.cont.scene.addChild(this.bg),a}},{key:"addCabinet",value:function(e){var a=this,n=void 0;return n=new createjs.Bitmap(e),n.name="cabinet",n.x=396,n.y=1090,a.cont.scene.addChild(n),a}},{key:"addDrawer",value:function(e){var a=this,n=void 0,t=!1;a.cont.drawer.x=454,a.cont.drawer.y=1083;var c=new createjs.Shape((new createjs.Graphics).dr(0,0,254,500)).set({x:454,y:1173});return a.cont.drawer.mask=c,n=new createjs.Bitmap(e),n.name="drawer",n.on("click",function(e){t?createjs.Tween.get(a.cont.drawer).to({y:1083},1e3,createjs.Ease.getPowInOut(4)).call(function(){t=!1}):createjs.Tween.get(a.cont.drawer).to({y:1173},1e3,createjs.Ease.getPowInOut(4)).call(function(){t=!0})}),a.cont.drawer.addChild(n),a}},{key:"addHammer",value:function(e,a){var n=this,t=void 0;return t=new createjs.Bitmap(e),t.name="hammer",t.x=70,t.y=10,t.on("click",function(e){console.log("picked"),f.add({name:"hammer",img:a,cb:function(){n.cont.drawer.removeChild(n.cont.drawer.getChildByName("hammer"))}})}),n.cont.drawer.addChild(t),n}},{key:"addGlasses",value:function(e){var a=this,n=void 0;return n=new createjs.Bitmap(e),n.name="glasses",n.x=447,n.y=566,n.on("click",function(n){console.log("picked"),f.add({name:"glasses",img:e,cb:function(){a.cont.scene.removeChild(a.cont.scene.getChildByName("glasses"))}})}),a.cont.scene.addChild(n),a}},{key:"addMural",value:function(e){var a=this,n=void 0;return n=new createjs.Bitmap(e),n.name="mural",n.x=398,n.y=335,n.rotation=0,n.on("click",function(e){console.log("picked"),f.boxs.hammer_pack.active&&createjs.Tween.get(n).to({y:1090},300).call(function(){})}),a.cont.scene.addChild(n),a}},{key:"addGrandpa",value:function(e,a){var n=this,t=void 0;return t=new createjs.Bitmap(e),t.name="grandpa",t.x=852,t.y=916,t.on("click",function(e){console.log("picked"),f.boxs.glasses_pack.active&&n.addGrandpaGlasses(a,function(){n.cont.scene.removeChild(n.cont.scene.getChildByName("grandpa")),f.remove({name:"glasses"})})}),n.cont.scene.addChild(t),n}},{key:"addGrandpaGlasses",value:function(e,a){var n=this,t=void 0;return t=new createjs.Bitmap(e),t.name="grandpa_glasses",t.x=852,t.y=916,n.cont.scene.addChild(t),n.grandpa_get_glasses=!0,a&&a(),n}},{key:"addEnvelope",value:function(e,a){var n=this,t=(new createjs.Container,void 0),c=!0,s=new createjs.Shape((new createjs.Graphics).dr(0,0,2480,2480)).set({x:0,y:1055});return t=new createjs.Bitmap(e),t.name="envelope",t.x=1550,t.y=940,t.rotation=35,t.mask=s,t.on("click",function(e){c?createjs.Tween.get(t).to({rotation:0,y:1543},800).call(function(){t.rotation=0,c=!1}):n.grandpa_get_glasses&&n.showEnvelopeMask(a)}),n.cont.scene.addChild(t),n}},{key:"showEnvelopeMask",value:function(e){var a=this,n=new createjs.Shape,t=void 0;n.graphics.beginFill("rgba(0,0,0,0.8)").drawRect(0,0,l,u),n.name="mask",n.on("click",function(e){console.log("mask",n.name),a.cont.mask.removeChild(a.cont.mask.getChildByName("mask")),a.cont.mask.removeChild(a.cont.mask.getChildByName("envelope_open")),d.update()}),t=new createjs.Bitmap(e),t.name="envelope_open",t.x=612,t.y=353,a.cont.mask.addChild(n,t),d.update()}},{key:"render",value:function(){d.update()}}]),e}(),g=function(){function e(n){a(this,e),this.scene1=n.scene1,this.active_item="",this.boxs={}}return t(e,[{key:"add",value:function(e){var a=this;switch(e.name){case"hammer":a.addHammer(e);break;case"glasses":a.addGlasses(e);break;default:console.info("Nothing to add!")}return a}},{key:"remove",value:function(e){var a=this;switch(e.name){case"hammer":a.scene1.cont.scene.removeChild(a.scene1.cont.scene.getChildByName("hammer_pack")),a.boxs.hammer_pack=void 0;break;case"glasses":console.log("Remove glasses"),a.scene1.cont.scene.removeChild(a.scene1.cont.scene.getChildByName("glasses_pack")),a.boxs.glasses_pack=void 0;break;default:console.info("Nothing to remove!")}return a}},{key:"activeItem",value:function(e){var a=this;if(e.active){var n=a.boxs[a.active_item];0!=a.active_item.length&&n&&createjs.Tween.get(n.ele).to({scale:1},300,createjs.Ease.getBackOut(3)).call(function(){n.active=!1,a.active_item=""}),createjs.Tween.get(a.boxs[e.name].ele).to({scale:1.3},300,createjs.Ease.getBackOut(3)).call(function(){a.boxs[e.name].active=!0,a.active_item=e.name}),console.log(a.active_item)}else createjs.Tween.get(a.boxs[e.name].ele).to({scale:1},300,createjs.Ease.getBackOut(3)).call(function(){a.boxs[e.name].active=!1,a.active_item=""});return a}},{key:"addHammer",value:function(e){var a=this,n=void 0,t=new createjs.Container;return t.x=2333,t.y=175,n=new createjs.Bitmap(e.img),n.name="hammer_pack",n.x=-1*n.getBounds().width/2,n.y=-1*n.getBounds().height/2,n.on("click",function(e){console.log("use"),a.boxs.hammer_pack.active?a.activeItem({name:"hammer_pack",active:!1}):a.activeItem({name:"hammer_pack",active:!0})}),t.addChild(n),a.scene1.cont.scene.addChild(t),e.cb&&e.cb(),a.boxs.hammer_pack={active:!1,ele:t},a}},{key:"addGlasses",value:function(e){var a=this,n=void 0,t=new createjs.Container;return t.x=2333,t.y=504,t.name="glasses_pack",n=new createjs.Bitmap(e.img),n.x=-1*n.getBounds().width/2,n.y=-1*n.getBounds().height/2,n.on("click",function(e){console.log("use"),a.boxs.glasses_pack.active?a.activeItem({name:"glasses_pack",active:!1}):a.activeItem({name:"glasses_pack",active:!0})}),t.addChild(n),a.scene1.cont.scene.addChild(t),e.cb&&e.cb(),a.boxs.glasses_pack={active:!1,ele:t},a}}]),e}();createjs.RotationPlugin.install();var p=(new m).init(),f=new g({scene1:p}),h=new createjs.LoadQueue;h.installPlugin(createjs.Sound),h.on("complete",c,this),h.on("progress",i,this),h.loadManifest(s.manifest)}(e,window)}).call(a,n(126))},129:function(e,a){e.exports={public_path:"/Room-Escape",page1:{title:"Room Escape",desc:"",image:"",url:"",thumb:""}}},333:function(e,a){},335:function(e,a){},336:function(e,a){},337:function(e,a,n){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0}),a.manifest=void 0;var c=n(338),s=t(c),i=n(339),o=t(i),r=n(340),d=t(r),l=n(341),u=t(l),m=n(342),g=t(m),p=n(343),f=t(p),h=n(344),v=t(h),b=n(345),k=t(b),w=n(346),_=t(w),y=n(347),x=t(y),j=n(348),C=t(j),B=n(349),R=t(B),E=n(350),G=t(E),T=n(351),N=t(T),M=[{id:"scene1_bg",src:s.default},{id:"scene1_bell",src:o.default},{id:"scene1_hammer",src:d.default},{id:"scene1_hammer_pack",src:u.default},{id:"scene1_glasses",src:g.default},{id:"scene1_grandpa",src:f.default},{id:"scene1_grandpa_glass",src:v.default},{id:"scene1_cabinet",src:k.default},{id:"scene1_mural",src:_.default},{id:"scene1_envelope",src:x.default},{id:"scene1_envelope_open",src:C.default},{id:"scene1_envelope_piece",src:R.default},{id:"scene1_piece1",src:G.default},{id:"scene1_drawer",src:N.default}];a.manifest=M},338:function(e,a,n){e.exports=n.p+"/images/38abb4cc2a8163e6bfb3601597666dc9.jpg"},339:function(e,a,n){e.exports=n.p+"/images/85280b727cb08f4083c67b5f68c09b69.png"},340:function(e,a,n){e.exports=n.p+"/images/61827088b1325fc937999f239db4240a.png"},341:function(e,a,n){e.exports=n.p+"/images/5eaa966bdc278272391cdf8abfc13b49.png"},342:function(e,a,n){e.exports=n.p+"/images/4421ee3c7a80076849a712b2fbd1299a.png"},343:function(e,a,n){e.exports=n.p+"/images/796812f221cf297b72ff084c8ca933b8.png"},344:function(e,a,n){e.exports=n.p+"/images/43ba9237e56b17a901f33025de00ae91.png"},345:function(e,a,n){e.exports=n.p+"/images/a94440ad59d5c37d4c9f51e304afaa92.png"},346:function(e,a,n){e.exports=n.p+"/images/ac5b23c2b42b1c6856f1d0d65be7d946.png"},347:function(e,a,n){e.exports=n.p+"/images/f4f354066e7057fc05d2c4d3f831825a.png"},348:function(e,a,n){e.exports=n.p+"/images/936b52c1a0497477cdd99268018e6a88.png"},349:function(e,a,n){e.exports=n.p+"/images/7fb9055bbfa2800fc590c569dbb49fe6.png"},350:function(e,a,n){e.exports=n.p+"/images/e587c368beac5548f297ad22ee21bca6.png"},351:function(e,a,n){e.exports=n.p+"/images/1c053b18c84b2461646f6c5c9da5ff75.png"}},[125]);